# DNS

## DNS

To attain an IP for a domain name or to retrieve values of other DNS records

```text
root@kali:~$ host <domain>
root@kali:~$ host -t mx <domain> // Lookup a specific record type
```

### Subdomains

Bash based subdomain brute force script

```text
root@kali:~$ for val in $(cat $SECLISTS/Discover/DNS/<wordlist>); do host $val.<domain>; done
```

While the bash one-liner above CAN brute force subdomains, there are actual tools specifically geared toward doing so in a much more efficient method.

* [subb](https://github.com/TheRook/subbrute)[ute](https://github.com/TheRook/subbrute) - A DNS meta-query spider that enumerates DNS records, and subdomains.
* [dnscan](https://github.com/rbsec/dnscan) - a python wordlist-based DNS subdomain scanner.
* [recon-ng](https://bitbucket.org/LaNMaSteR53/recon-ng) - The recon-ng framework has a brute\_hosts module that allows to bruteforce subdomains.
* [dnsrecon](http://tools.kali.org/information-gathering/dnsrecon) - DNS enumeration script
* [dnsenum](https://github.com/fwaeytens/dnsenum) - Recursive and threaded subdomain enumeration



Reverse lookup brute force script

```text
root@kali:~$ for ip in $(seq 50 100); do host 10.0.0.$ip; done | grep -v "not found"
```

Zone Transfers with the host command

```text
root@kali:~$ host -l <domain> <nameserver> 
```

Automating Zone Transfers

```text
#!/bin/bash 
if [ -z “$1” ]; then 
  echo “[*] Usage: : $0 <domain>" 
  exit 0 
fi

for server in $(host -t ns $1 | cut -d “ ” -f4); do 
  host -l $1 $server | grep “has address” 
done 
```

